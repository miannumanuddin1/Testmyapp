function InitializeLibrary(){
	var html = '';
	
	$.ajax({
		url: config.Path + '/marvin/getvideolibrary',
	}).done(function(data){
		if (data === null)
			HandleError("Video library can't be loaded at this time.");
		else {
			var library = [];

			var prevModule = null;
			for (var i = 0; i < data.length; i++) {
				if (data[i].Name != prevModule){
					var moduleName = data[i].Name;
					var sub = moduleName.split(":");
					if(moduleName.indexOf(':') == -1){
						html += '<div class = "row"><div class = "col-xs-12">'+ moduleName +'</div></div>';
					}
					else{
						html += '<div class = "row"><div class = "col-xs-12">'+ sub[0] +':</div></div>';
            			html += '<div class="col-xs-12 moduleTitle "><div class="title">' + sub[1] + '</div></div>';
					}

					prevModule = moduleName;
				}

				var video = data[i].Pages[0].Controls[0];

				if ($.inArray(video.Value, library) >= 0){
					continue;
				}

				library.push(video.Value);

				var title = video.Prompt;
				var description = video.Action;
				var path = video.Value;
				// alert(path);
				var length = video.Code;
				var thumbnail = video.Placeholder;

            	html += '<div class="row videoWrapper"><div class="col-xs-5"><img class="videoThumbnail" src="' + thumbnail + '"/><img class="playLibraryVideo" id="' + path + '" src="img/assets/iconPlay.png" /> </div>';
            	html += '<div class="col-xs-7 videoRow"><div class="videoTitle">' + title + '</div><div class="videoDescription">' + description + '<span class="videoLength">' + length + '</span></div></div> </div>';
			}
		}

		$('#libraryWrapper').html(html);

		var play = $('.playLibraryVideo');

		for (x = 0; x < play.length; x++) {
			var button = play[x];
			VideoClick(button, null, null, 'library');
		}
	});

}

